<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Git | Carlos Gustavo Ruiz</title><meta name=keywords content><meta name=description content="Stuff I use to google sometimes"><meta name=author content><link rel=canonical href=https://carlosgruiz.dev/wiki/git/><link crossorigin=anonymous href=/assets/css/stylesheet.min.c88963fe2d79462000fd0fb1b3737783c32855d340583e4523343f8735c787f0.css integrity="sha256-yIlj/i15RiAA/Q+xs3N3g8MoVdNAWD5FIzQ/hzXHh/A=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.min.b95bacdc39e37a332a9f883b1e78be4abc1fdca2bc1f2641f55e3cd3dabd4d61.js integrity="sha256-uVus3DnjejMqn4g7Hni+Srwf3KK8HyZB9V4809q9TWE=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://carlosgruiz.dev/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://carlosgruiz.dev/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://carlosgruiz.dev/favicon-32x32.png><link rel=apple-touch-icon href=https://carlosgruiz.dev/apple-touch-icon.png><link rel=mask-icon href=https://carlosgruiz.dev/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="Git"><meta property="og:description" content="Stuff I use to google sometimes"><meta property="og:type" content="article"><meta property="og:url" content="https://carlosgruiz.dev/wiki/git/"><meta property="article:section" content="wiki"><meta name=twitter:card content="summary"><meta name=twitter:title content="Git"><meta name=twitter:description content="Stuff I use to google sometimes"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Wiki","item":"https://carlosgruiz.dev/wiki/"},{"@type":"ListItem","position":2,"name":"Git","item":"https://carlosgruiz.dev/wiki/git/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Git","name":"Git","description":"Stuff I use to google sometimes","keywords":[],"articleBody":"Add and remove submodules Get all submodules of a repo $ git submodule update --init --recursive Remove a submodule from a repo source To remove a submodule you need to:\nDelete the relevant line from the .gitmodules file. Delete the relevant section from .git/config. Run git rm --cached path_to_submodule (no trailing slash). Commit and delete the now untracked submodule files. Check diff between local and remote branches Steps:\ngo to your repo and do git fetch type git diff check your file changes make git merge Some options to try in step 2 are:\ngit diff --sumary FETCH_HEAD - gives an overview of the changes. git diff --stat FETCH_HEAD - gives more information than --summary. git diff FETCH_HEAD -- - show information only for a selected file. source 1, source 2, source 3\nCloning a repo with HTTPS cloning public repo\n$ git clone https://github.com/atmantree/exercism.git cloning using user and password (avoid this)\n$ git clone https://[username]:[password]@github.com/atmantree/exercism.git Create an orphan branch $ git checkout --orphan branch-name $ git rm -rf . $ rm .gitignore # if is any other ignored file, remove it too $ touch some_file $ git commit -a -m \"Initial commit\" $ git push -u origin branch-name Create remote branch Configure git with push.default = current to make life easier:\n$ git push -u -u will track remote branch of same name. No with this configuration you will auto-guess the remote reference to git push. From git.config documentation:\npush.default\nDefines the action git push should take if no refspec is explicitly given.\npush.default = current - push the current branch to update a branch with the same name on the receiving end. Works in both central and non-central workflows.\nDelete local branch To delete a local branch type:\ngit branch -d git branch -D # shortcut for git branch --delete --force Delete remote branch Type the following to delete a remote branch:\ngit push --delete git push : # maybe this way is hard to remember. Rename local branch If you want to rename a branch while pointed to any branch, do:\ngit branch -m If you want to rename the current branch, you can do:\ngit branch -m source\nRename remote branch If you want to rename (or move) a remote branch, type:\ngit push : Remember to reset the upstream branch to the new name, switch to the branch and type:\ngit push -u Set git user $ git config --global user.email #### $ git config --global user.name \"####\" Track remote branch $ git checkout --track [remote-name]/[branch-name] Get last N commits from log $ git log --pretty=oneline | head -n [number-of-lines] source\nor\n$ git log -n [number-of-lines] // or $ git log -[number-of-lines] source\nUse of git stash Use git stash to save the current state of the working directory of the repo, while we checkout another branch without commiting.\nThe command to get back the changes we made is git stash pop.\nPull all repos in a directory Script or one-liner.\n#!/usr/bin/env bash find . -maxdepth 1 -not -name \".*\" -type d -execdir bash -c 'echo {} \u0026\u0026 cd {} \u0026\u0026 git pull \u0026\u0026 cd ..' \\; ","wordCount":"538","inLanguage":"en","datePublished":"0001-01-01T00:00:00Z","dateModified":"0001-01-01T00:00:00Z","mainEntityOfPage":{"@type":"WebPage","@id":"https://carlosgruiz.dev/wiki/git/"},"publisher":{"@type":"Organization","name":"Carlos Gustavo Ruiz","logo":{"@type":"ImageObject","url":"https://carlosgruiz.dev/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://carlosgruiz.dev/ accesskey=h title="Carlos Gustavo Ruiz (Alt + H)">Carlos Gustavo Ruiz</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu><li><a href=https://carlosgruiz.dev/blog/ title=blog><span>blog</span></a></li><li><a href=https://carlosgruiz.dev/wiki/ title=wiki><span>wiki</span></a></li><li><a href=https://carlosgruiz.dev/talks/ title=talks><span>talks</span></a></li><li><a href=https://carlosgruiz.dev/bookmarks/ title=bookmarks><span>bookmarks</span></a></li><li><a href=https://carlosgruiz.dev/now/ title=now><span>now</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>Git</h1><div class=post-meta></div></header><div class=post-content><h2 id=add-and-remove-submodules>Add and remove submodules<a hidden class=anchor aria-hidden=true href=#add-and-remove-submodules>#</a></h2><h3 id=get-all-submodules-of-a-repo>Get all submodules of a repo<a hidden class=anchor aria-hidden=true href=#get-all-submodules-of-a-repo>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ git submodule update --init --recursive
</span></span></code></pre></div><h3 id=remove-a-submodule-from-a-repo-sourcehttpsgistgithubcomkyleturner1563153>Remove a submodule from a repo <a href=https://gist.github.com/kyleturner/1563153>source</a><a hidden class=anchor aria-hidden=true href=#remove-a-submodule-from-a-repo-sourcehttpsgistgithubcomkyleturner1563153>#</a></h3><p>To remove a submodule you need to:</p><ul><li>Delete the relevant line from the <code>.gitmodules</code> file.</li><li>Delete the relevant section from <code>.git/config</code>.</li><li>Run <code>git rm --cached path_to_submodule</code> (no trailing slash).</li><li>Commit and delete the now untracked submodule files.</li></ul><h2 id=check-diff-between-local-and-remote-branches>Check diff between local and remote branches<a hidden class=anchor aria-hidden=true href=#check-diff-between-local-and-remote-branches>#</a></h2><p>Steps:</p><ol><li>go to your repo and do <code>git fetch</code></li><li>type <code>git diff &lt;local_branch_name> &lt;remote_branch_name></code></li><li>check your file changes</li><li>make <code>git merge</code></li></ol><p>Some options to try in step 2 are:</p><ol><li><code>git diff --sumary FETCH_HEAD</code> - gives an overview of the changes.</li><li><code>git diff --stat FETCH_HEAD</code> - gives more information than <code>--summary</code>.</li><li><code>git diff FETCH_HEAD -- &lt;some_dir/some_file></code> - show information only for a
selected file.</li></ol><p><a href=https://stackoverflow.com/a/1800787>source 1</a>,
<a href=https://stackoverflow.com/a/11935678>source 2</a>,
<a href=https://stackoverflow.com/a/33289679>source 3</a></p><h2 id=cloning-a-repo-with-https>Cloning a repo with HTTPS<a hidden class=anchor aria-hidden=true href=#cloning-a-repo-with-https>#</a></h2><p>cloning public repo</p><pre tabindex=0><code>$ git clone https://github.com/atmantree/exercism.git
</code></pre><p>cloning using user and password (avoid this)</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ git clone https://<span style=color:#f92672>[</span>username<span style=color:#f92672>]</span>:<span style=color:#f92672>[</span>password<span style=color:#f92672>]</span>@github.com/atmantree/exercism.git
</span></span></code></pre></div><h2 id=create-an-orphan-branch>Create an orphan branch<a hidden class=anchor aria-hidden=true href=#create-an-orphan-branch>#</a></h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ git checkout --orphan branch-name
</span></span><span style=display:flex><span>$ git rm -rf .
</span></span><span style=display:flex><span>$ rm .gitignore   <span style=color:#75715e># if is any other ignored file, remove it too</span>
</span></span><span style=display:flex><span>$ touch some_file
</span></span><span style=display:flex><span>$ git commit -a -m <span style=color:#e6db74>&#34;Initial commit&#34;</span>
</span></span><span style=display:flex><span>$ git push -u origin branch-name
</span></span></code></pre></div><h2 id=create-remote-branch>Create remote branch<a hidden class=anchor aria-hidden=true href=#create-remote-branch>#</a></h2><p>Configure git with <code>push.default = current</code> to make life easier:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ git push -u
</span></span></code></pre></div><p><code>-u</code> will track remote branch of same name. No with this configuration you will
auto-guess the remote reference to git push. From
<a href=http://git-scm.com/docs/git-config>git.config documentation</a>:</p><blockquote><p><strong>push.default</strong></p><p>Defines the action git push should take if no refspec is explicitly given.</p><p><code>push.default = current</code> - push the current branch to update a branch with the same name on the receiving end. Works in both central and non-central workflows.</p></blockquote><h2 id=delete-local-branch>Delete local branch<a hidden class=anchor aria-hidden=true href=#delete-local-branch>#</a></h2><p>To delete a local branch type:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git branch -d &lt;branch_name&gt; 
</span></span><span style=display:flex><span>git branch -D &lt;branch_name&gt; <span style=color:#75715e># shortcut for git branch --delete --force</span>
</span></span></code></pre></div><h2 id=delete-remote-branch>Delete remote branch<a hidden class=anchor aria-hidden=true href=#delete-remote-branch>#</a></h2><p>Type the following to delete a remote branch:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git push &lt;remote&gt; --delete &lt;branch_name&gt;
</span></span><span style=display:flex><span>git push &lt;remote&gt; :&lt;branch_name&gt; <span style=color:#75715e># maybe this way is hard to remember.</span>
</span></span></code></pre></div><h2 id=rename-local-branch>Rename local branch<a hidden class=anchor aria-hidden=true href=#rename-local-branch>#</a></h2><p>If you want to rename a branch while pointed to any branch, do:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git branch -m &lt;old_name&gt; &lt;new_name&gt;
</span></span></code></pre></div><p>If you want to rename the current branch, you can do:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git branch -m &lt;new_name&gt;
</span></span></code></pre></div><p><a href=https://stackoverflow.com/a/6591218>source</a></p><h2 id=rename-remote-branch>Rename remote branch<a hidden class=anchor aria-hidden=true href=#rename-remote-branch>#</a></h2><p>If you want to rename (or move) a remote branch, type:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git push &lt;remote&gt; :&lt;old_name&gt; &lt;new_name&gt;
</span></span></code></pre></div><p>Remember to reset the upstream branch to the new name, switch to the branch and type:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git push &lt;remote&gt; -u  &lt;new_name&gt;
</span></span></code></pre></div><h2 id=set-git-user>Set git user<a hidden class=anchor aria-hidden=true href=#set-git-user>#</a></h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ git config --global user.email <span style=color:#75715e>####</span>
</span></span><span style=display:flex><span>$ git config --global user.name <span style=color:#e6db74>&#34;####&#34;</span>
</span></span></code></pre></div><h2 id=track-remote-branch>Track remote branch<a hidden class=anchor aria-hidden=true href=#track-remote-branch>#</a></h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ git checkout --track <span style=color:#f92672>[</span>remote-name<span style=color:#f92672>]</span>/<span style=color:#f92672>[</span>branch-name<span style=color:#f92672>]</span>
</span></span></code></pre></div><h2 id=get-last-n-commits-from-log>Get last N commits from log<a hidden class=anchor aria-hidden=true href=#get-last-n-commits-from-log>#</a></h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ git log --pretty<span style=color:#f92672>=</span>oneline | head -n <span style=color:#f92672>[</span>number-of-lines<span style=color:#f92672>]</span>
</span></span></code></pre></div><p><a href=https://stackoverflow.com/a/10346226>source</a></p><p>or</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ git log -n <span style=color:#f92672>[</span>number-of-lines<span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>// or
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>$ git log -<span style=color:#f92672>[</span>number-of-lines<span style=color:#f92672>]</span>
</span></span></code></pre></div><p><a href=https://stackoverflow.com/a/10347287>source</a></p><h2 id=use-of-git-stash>Use of git stash<a hidden class=anchor aria-hidden=true href=#use-of-git-stash>#</a></h2><p>Use <code>git stash</code> to save the current state of the working directory of the repo,
while we checkout another branch without commiting.</p><p>The command to get back the changes we made is <code>git stash pop</code>.</p><h2 id=pull-all-repos-in-a-directory>Pull all repos in a directory<a hidden class=anchor aria-hidden=true href=#pull-all-repos-in-a-directory>#</a></h2><p>Script or one-liner.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e>#!/usr/bin/env bash
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span>find . -maxdepth <span style=color:#ae81ff>1</span> -not -name <span style=color:#e6db74>&#34;.*&#34;</span> -type d -execdir bash -c <span style=color:#e6db74>&#39;echo {} &amp;&amp; cd {} &amp;&amp; git pull &amp;&amp; cd ..&#39;</span> <span style=color:#ae81ff>\;</span>
</span></span></code></pre></div></div><footer class=post-footer></footer></article></main><footer class=footer><span>&copy; 2023 <a href=https://carlosgruiz.dev/>Carlos Gustavo Ruiz</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>